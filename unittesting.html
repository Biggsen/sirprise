<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>QUnit basic example</title>
  <link rel="stylesheet" href="css/qunit-1.11.0.css">
</head>
<body>
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <script src="js/qunit-1.11.0.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.1.16.min.js"></script>
  <script src="js/generate.js"></script>
  <script>

	/* Minor scale tests */	

	test( "test minor scale length", function() {
		var seq = Generate.minorscale_pos(7);
		var exp = [1,3,4,6,8,9,11];
		for(var i = 0, len = seq.length; i < len; i++) {
			equal(seq[i], exp[i], "minor sequence in position " + i + " should be " + exp[i] + " but is " + seq[i] );
		}

		seq = Generate.minorscale_pos(10);
		exp = [1,3,4,6,8,9,11,13,15,16];
		
		equal( Generate.minorscale_pos(10).length, 10, "minor sequence should be 10 in length" );
		for(var i = 0, len = seq.length; i < len; i++) {
			equal(seq[i], exp[i], "minor sequence in position " + i + " should be " + exp[i] + " but is " + seq[i] );
		}
	});

	test( "test generate bass F minor sequence" , function () {
		equal( Generate.bass_sequence('F', 'minor').length, 10, "bass sequence should be 10 in length" );
		
		equal( Generate.bass_sequence('F', 'minor')[0], 'F1', "first note in bass sequence shold be F1" );

		var seq = Generate.bass_sequence('F', 'minor');
		var exp =['F1', 'G1', 'G#1', 'A#1', 'C1', 'C#1', 'D#1', 'F2', 'G2', 'G#2'];
		for(var i = 0, len = seq.length; i < len; i++) {
			equal(seq[i], exp[i], "bass sequence in position " + i + " should be " + exp[i] + " but is " + seq[i] );
		}
	});

	test( "test generate bass A minor sequence" , function () {
		var seq = Generate.bass_sequence('A', 'minor');
		var exp =['A1', 'B1', 'C1', 'D1', 'E2', 'F2', 'G2', 'A2', 'B2', 'C2'];
		for(var i = 0, len = seq.length; i < len; i++) {
			equal(seq[i], exp[i], "bass sequence in position " + i + " should be " + exp[i] + " but is " + seq[i] );
		}
	});

	/* Major scale tests */	

	test( "test major scale length", function() {
		var seq = Generate.majorscale_pos(7);

		equal(seq.length, 7, "Major scale should should be 7 in length");

		var exp = [1,3,5,6,8,10,12];
		for(var i = 0, len = seq.length; i < len; i++) {
			equal(seq[i], exp[i], "major sequence in position " + i + " should be " + exp[i] + " but is " + seq[i] );
		}

		seq = Generate.majorscale_pos(10);
		exp = [1,3,5,6,8,10,12,13,15,17];
		
		equal( seq.length, 10, "major sequence should be 10 in length" );
		for(var i = 0, len = seq.length; i < len; i++) {
			equal(seq[i], exp[i], "major sequence in position " + i + " should be " + exp[i] + " but is " + seq[i] );
		}
	});

	test( "test generate bass D major sequence" , function () {
		var seq = Generate.bass_sequence('D', 'major');
		var exp =['D1', 'E2', 'F#2', 'G2', 'A2', 'B2', 'C#2', 'D2', 'E3', 'F#3'];
		for(var i = 0, len = seq.length; i < len; i++) {
			equal(seq[i], exp[i], "bass sequence in position " + i + " should be " + exp[i] + " but is " + seq[i] );
		}
	});

	test( "test generate bass E major sequence" , function () {
		var seq = Generate.bass_sequence('E', 'major');
		var exp =['E1', 'F#1', 'G#1', 'A1', 'B1', 'C#1', 'D#1', 'E2', 'F#2', 'G#2'];
		for(var i = 0, len = seq.length; i < len; i++) {
			equal(seq[i], exp[i], "bass sequence in position " + i + " should be " + exp[i] + " but is " + seq[i] );
		}
	});
	
  </script>
</body>
</html>